<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<style>
			
			*{padding: 0; margin:0;}
			
			canvas{
				background: #eee; display:block; margin:0 auto;
			}
			
		</style>
	</head>
	<body>
		<canvas id="myCanvas" width="500" height="500"></canvas>
		<script>
		// 2. 지렁이 그리기 + 이동
		// 지렁이 머리, 꼬리 생성; drawWorm 함수, setInterval 함수, clearRect 함수 사용. 지렁이 좌표에 +d -> 이동
		var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext("2d");
		var Gap = 20;
		
		//@@@ 새로운 변수 @@@
		// 지렁이 머리, 꼬리의 시작위치
		var hX = (canvas.width-20)/2 +3; // 라인 안쪽으로 끌어오기 위해서 +3
		var hY = canvas.height-80 	 +3;
		var tX = (canvas.width-20)/2 +3;
		var tY = canvas.height-80 +Gap +3;
		// 지렁이의 크기
		var RectX = 13.5;
		var RectY = 13.5;
		// 지렁이 이동
		var dx = 0;
		var dy = -Gap;
		
		//@@@ 새로운 함수 @@@
		function drawWorm(){
			ctx.beginPath();
			ctx.rect(hX,hY,RectX,RectY);
			ctx.rect(tX,tY,RectX,RectY);
			ctx.fillStyle = "#0095DD";
			ctx.fill();
			ctx.closePath();	
		}
		
		// 1. 선 그리기		
		function drawLine(){
			for(var i=20; i<500; i+=20){
				ctx.beginPath();
				ctx.moveTo(i,0);
				ctx.lineTo(i,500);
				ctx.moveTo(0,i);
				ctx.lineTo(500,i);
				ctx.stroke();
			}
		}
		
		//@@@ 새로운 함수 
		function draw(){
			ctx.clearRect(0,0,canvas.width, canvas.height);
			drawLine();
			drawWorm();
			hX += dx;
			hY += dy;
			tX += dx;
			tY += dy;
		}
		setInterval(draw, 500);
		</script>
	</body>
</html> 